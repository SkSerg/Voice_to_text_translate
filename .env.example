# --- ASR (Automatic Speech Recognition) ---
# Whisper model: tiny, base, small, medium, large-v3
# Larger model = better quality, but slower and uses more VRAM
ASR_MODEL=medium

# Device: cuda (GPU) or cpu
ASR_DEVICE=cuda

# Compute type: float16 (faster on GPU), float32, int8
ASR_COMPUTE_TYPE=float16

# Beam size for streaming decoding (default: 3)
# Higher = better quality, but slower
# Recommended: 2-5 for streaming
ASR_BEAM_SIZE_STREAMING=3

# Beam size for final decoding (default: 5)
# Recommended: 5-10
ASR_BEAM_SIZE_FINAL=5

# Use Whisper internal previous-text context
# To reduce phrase loops in streaming, false is usually better
ASR_CONDITION_ON_PREVIOUS_TEXT=false

# Repetition penalty (1.0 = disabled)
# 1.05-1.15 usually reduces looped hallucinations
ASR_REPETITION_PENALTY=1.08

# No-repeat n-gram size (0 = disabled)
# 2-4 helps reduce repeated phrases
ASR_NO_REPEAT_NGRAM_SIZE=3

# Silence threshold to cut hallucinations (seconds)
ASR_HALLUCINATION_SILENCE_THRESHOLD=0.35

# Minimum word probability to include in output (default: 0.15)
# Filters low-confidence words (possible hallucinations)
# Lower = more words, but potentially more errors
# Higher = fewer words, but higher precision
# Recommended: 0.1-0.3
ASR_MIN_WORD_PROB=0.15

# Minimum word probability for final pass (default: 0.0)
# Keep 0.0 to avoid dropping words at phrase boundaries
ASR_MIN_WORD_PROB_FINAL=0.0

# --- Translation ---
# Ollama server URL
OLLAMA_URL=http://localhost:11434

# Translation model in Ollama
# Examples: translategemma:4b, translategemma:12b
TRANSLATE_MODEL=translategemma:4b

# --- Audio Capture ---
# Gain (1.0 = unchanged, 2.0 = doubled)
CAPTURE_GAIN=1.0

# --- Hotkeys ---
# Global hotkeys for transcription control
HOTKEY_TOGGLE=f8
HOTKEY_STOP=f10

# Capture device (leave empty for default device)
# Use test_capture.py to list available devices
# CAPTURE_DEVICE=

# ===== CONFIG EXAMPLES =====

# === Maximum quality (GPU with large VRAM) ===
# ASR_MODEL=large-v3
# ASR_BEAM_SIZE_STREAMING=5
# ASR_BEAM_SIZE_FINAL=10
# ASR_MIN_WORD_PROB=0.4

# === Balanced configuration (recommended) ===
# ASR_MODEL=medium
# ASR_BEAM_SIZE_STREAMING=3
# ASR_BEAM_SIZE_FINAL=5
# ASR_MIN_WORD_PROB=0.15
# ASR_MIN_WORD_PROB_FINAL=0.0

# === Maximum speed (weaker GPU) ===
# ASR_MODEL=small
# ASR_BEAM_SIZE_STREAMING=1
# ASR_BEAM_SIZE_FINAL=3
# ASR_MIN_WORD_PROB=0.1
# ASR_MIN_WORD_PROB_FINAL=0.0

# === CPU mode (no GPU) ===
# ASR_MODEL=base
# ASR_DEVICE=cpu
# ASR_COMPUTE_TYPE=int8
# ASR_BEAM_SIZE_STREAMING=1
# ASR_BEAM_SIZE_FINAL=2
